<?xml version='1.0' encoding='UTF-8'?>
<Schema name="Mara example project 1">
  <Cube name="Order item" description="Items purchased within each order made at Olist Store" defaultMeasure="# Order items">
    <Table schema="af_dim" name="order_item_fact"/>
    <Dimension name="Shipping limit date" type="TimeDimension" description="The Seller shipping limit date for handling the order over to the logistic partner" foreignKey="Shipping limit date (FK)">
      <Hierarchy allMemberName="All shipping limit dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All shipping limit dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Status" description="Reference to the order status (delivered, shipped, etc)" foreignKey="Order item order_fk">
      <Hierarchy allMemberName="All Status" hasAll="true" primaryKey="order_id">
        <Table name="order" schema="ec_dim"/>
        <Level name="Status" column="status" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Purchase date" type="TimeDimension" description="The Purchase timestamp" foreignKey="Purchase date (FK)">
      <Hierarchy allMemberName="All purchase dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All purchase dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Approved date" type="TimeDimension" description="Payment approval timestamp" foreignKey="Approved date (FK)">
      <Hierarchy allMemberName="All approved dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All approved dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Delivered carrier date" type="TimeDimension" description="Order posting timestamp (when was handled to the logistic partner)" foreignKey="Delivered carrier date (FK)">
      <Hierarchy allMemberName="All delivered carrier dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All delivered carrier dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Delivered customer date" type="TimeDimension" description="Actual order delivery date to the customer" foreignKey="Delivered customer date (FK)">
      <Hierarchy allMemberName="All delivered customer dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All delivered customer dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Estimated delivery date" type="TimeDimension" description="Estimated delivery date that was informed to customer at the purchase moment" foreignKey="Estimated delivery date (FK)">
      <Hierarchy allMemberName="All estimated delivery dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All estimated delivery dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Customer first order status" description="Reference to the order status (delivered, shipped, etc)" foreignKey="Customer first_order_fk">
      <Hierarchy allMemberName="All Customer first order status" hasAll="true" primaryKey="order_id">
        <Table name="order" schema="ec_dim"/>
        <Level name="Customer first order status" column="status" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Customer first order purchase date" type="TimeDimension" description="The Purchase timestamp" foreignKey="Customer first order purchase date (FK)">
      <Hierarchy allMemberName="All customer first order purchase dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All customer first order purchase dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Customer first order approved date" type="TimeDimension" description="Payment approval timestamp" foreignKey="Customer first order approved date (FK)">
      <Hierarchy allMemberName="All customer first order approved dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All customer first order approved dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Customer first order delivered carrier date" type="TimeDimension" description="Order posting timestamp (when was handled to the logistic partner)" foreignKey="Customer first order delivered carrier date (FK)">
      <Hierarchy allMemberName="All customer first order delivered carrier dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All customer first order delivered carrier dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Customer first order delivered customer date" type="TimeDimension" description="Actual order delivery date to the customer" foreignKey="Customer first order delivered customer date (FK)">
      <Hierarchy allMemberName="All customer first order delivered customer dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All customer first order delivered customer dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Customer first order estimated delivery date" type="TimeDimension" description="Estimated delivery date that was informed to customer at the purchase moment" foreignKey="Customer first order estimated delivery date (FK)">
      <Hierarchy allMemberName="All customer first order estimated delivery dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All customer first order estimated delivery dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Customer zip code" description="First 5 digits of zip code" foreignKey="Customer geo_location_fk">
      <Hierarchy allMemberName="All Customer zip code" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="Customer zip code" column="zip_code_prefix" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Customer city" description="City name" foreignKey="Customer geo_location_fk">
      <Hierarchy allMemberName="All Customer city" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="Customer city" column="city" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Product category" description="Root category of product" foreignKey="Order item product_fk">
      <Hierarchy allMemberName="All Product category" hasAll="true" primaryKey="product_id">
        <Table name="product" schema="ec_dim"/>
        <Level name="Product category" column="category" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Seller zip code" description="First 5 digits of zip code" foreignKey="Seller geo_location_fk">
      <Hierarchy allMemberName="All Seller zip code" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="Seller zip code" column="zip_code_prefix" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Seller city" description="City name" foreignKey="Seller geo_location_fk">
      <Hierarchy allMemberName="All Seller city" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="Seller city" column="city" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Measure name="# Order items" description="The number of order items" column="order_item_id" aggregator="count" formatString="Standard" datatype="Integer"/>
    <Measure name="# Orders" description="Number of distinct orders" column="order_fk" aggregator="distinct-count" formatString="Standard" datatype="Integer"/>
    <Measure name="Revenue" description="Revenue generated based on the price of the item" column="revenue" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="Freight value" description="The freight value of the item (if an order has more than one item the freight value is splitted between items)" column="freight_value" aggregator="sum" formatString="Standard" datatype="Numeric"/>
  </Cube>
  <Cube name="Seller" description="Merchants that are selling their products through the Olist department store" defaultMeasure="# Sellers">
    <Table schema="af_dim" name="seller_fact"/>
    <Dimension name="First order status" description="Reference to the order status (delivered, shipped, etc)" foreignKey="Seller first_order_fk">
      <Hierarchy allMemberName="All First order status" hasAll="true" primaryKey="order_id">
        <Table name="order" schema="ec_dim"/>
        <Level name="First order status" column="status" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="First order purchase date" type="TimeDimension" description="The Purchase timestamp" foreignKey="First order purchase date (FK)">
      <Hierarchy allMemberName="All first order purchase dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All first order purchase dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="First order approved date" type="TimeDimension" description="Payment approval timestamp" foreignKey="First order approved date (FK)">
      <Hierarchy allMemberName="All first order approved dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All first order approved dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="First order delivered carrier date" type="TimeDimension" description="Order posting timestamp (when was handled to the logistic partner)" foreignKey="First order delivered carrier date (FK)">
      <Hierarchy allMemberName="All first order delivered carrier dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All first order delivered carrier dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="First order delivered customer date" type="TimeDimension" description="Actual order delivery date to the customer" foreignKey="First order delivered customer date (FK)">
      <Hierarchy allMemberName="All first order delivered customer dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All first order delivered customer dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="First order estimated delivery date" type="TimeDimension" description="Estimated delivery date that was informed to customer at the purchase moment" foreignKey="First order estimated delivery date (FK)">
      <Hierarchy allMemberName="All first order estimated delivery dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All first order estimated delivery dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Last order status" description="Reference to the order status (delivered, shipped, etc)" foreignKey="Seller last_order_fk">
      <Hierarchy allMemberName="All Last order status" hasAll="true" primaryKey="order_id">
        <Table name="order" schema="ec_dim"/>
        <Level name="Last order status" column="status" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Last order purchase date" type="TimeDimension" description="The Purchase timestamp" foreignKey="Last order purchase date (FK)">
      <Hierarchy allMemberName="All last order purchase dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All last order purchase dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Last order approved date" type="TimeDimension" description="Payment approval timestamp" foreignKey="Last order approved date (FK)">
      <Hierarchy allMemberName="All last order approved dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All last order approved dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Last order delivered carrier date" type="TimeDimension" description="Order posting timestamp (when was handled to the logistic partner)" foreignKey="Last order delivered carrier date (FK)">
      <Hierarchy allMemberName="All last order delivered carrier dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All last order delivered carrier dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Last order delivered customer date" type="TimeDimension" description="Actual order delivery date to the customer" foreignKey="Last order delivered customer date (FK)">
      <Hierarchy allMemberName="All last order delivered customer dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All last order delivered customer dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Last order estimated delivery date" type="TimeDimension" description="Estimated delivery date that was informed to customer at the purchase moment" foreignKey="Last order estimated delivery date (FK)">
      <Hierarchy allMemberName="All last order estimated delivery dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All last order estimated delivery dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Zip code" description="First 5 digits of zip code" foreignKey="Seller geo_location_fk">
      <Hierarchy allMemberName="All Zip code" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="Zip code" column="zip_code_prefix" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="City" description="City name" foreignKey="Seller geo_location_fk">
      <Hierarchy allMemberName="All City" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="City" column="city" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="State" description="State name" foreignKey="Seller geo_location_fk">
      <Hierarchy allMemberName="All State" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="State" column="state" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Measure name="# Sellers" description="The number of sellers" column="seller_id" aggregator="count" formatString="Standard" datatype="Integer"/>
    <Measure name="Avg. days since last order" description="Average number of days after the last order fulfillment by this seller" column="days_since_last_order" aggregator="avg" formatString="Standard" datatype="Numeric"/>
    <Measure name="# Orders" description="Number of orders with at-least one item fulfilled by this seller" column="number_of_orders" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="# Order items" description="Number of items fulfilled by this seller" column="number_of_order_items" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="# Deliveries" description="Number of orders (with at-least one item fulfilled by this seller) that were already delivered to the customer" column="number_of_deliveries" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="# Customers" description="Number of customers with items fulfilled by this seller" column="number_of_customers" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="Revenue (lifetime)" description="The lifetime revenue generated of items fulfilled by this seller" column="revenue_lifetime" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="Total freight value" description="Total freight value of items fulfilled by this seller" column="total_freight_value" aggregator="sum" formatString="Standard" datatype="Numeric"/>
  </Cube>
  <Cube name="Customer" description="People that made a purchase at Olist store" defaultMeasure="# Customers">
    <Table schema="af_dim" name="customer_fact"/>
    <Dimension name="First order status" description="Reference to the order status (delivered, shipped, etc)" foreignKey="Customer first_order_fk">
      <Hierarchy allMemberName="All First order status" hasAll="true" primaryKey="order_id">
        <Table name="order" schema="ec_dim"/>
        <Level name="First order status" column="status" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="First order purchase date" type="TimeDimension" description="The Purchase timestamp" foreignKey="First order purchase date (FK)">
      <Hierarchy allMemberName="All first order purchase dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All first order purchase dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="First order approved date" type="TimeDimension" description="Payment approval timestamp" foreignKey="First order approved date (FK)">
      <Hierarchy allMemberName="All first order approved dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All first order approved dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="First order delivered carrier date" type="TimeDimension" description="Order posting timestamp (when was handled to the logistic partner)" foreignKey="First order delivered carrier date (FK)">
      <Hierarchy allMemberName="All first order delivered carrier dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All first order delivered carrier dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="First order delivered customer date" type="TimeDimension" description="Actual order delivery date to the customer" foreignKey="First order delivered customer date (FK)">
      <Hierarchy allMemberName="All first order delivered customer dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All first order delivered customer dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="First order estimated delivery date" type="TimeDimension" description="Estimated delivery date that was informed to customer at the purchase moment" foreignKey="First order estimated delivery date (FK)">
      <Hierarchy allMemberName="All first order estimated delivery dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All first order estimated delivery dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Last order status" description="Reference to the order status (delivered, shipped, etc)" foreignKey="Customer last_order_fk">
      <Hierarchy allMemberName="All Last order status" hasAll="true" primaryKey="order_id">
        <Table name="order" schema="ec_dim"/>
        <Level name="Last order status" column="status" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Last order purchase date" type="TimeDimension" description="The Purchase timestamp" foreignKey="Last order purchase date (FK)">
      <Hierarchy allMemberName="All last order purchase dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All last order purchase dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Last order approved date" type="TimeDimension" description="Payment approval timestamp" foreignKey="Last order approved date (FK)">
      <Hierarchy allMemberName="All last order approved dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All last order approved dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Last order delivered carrier date" type="TimeDimension" description="Order posting timestamp (when was handled to the logistic partner)" foreignKey="Last order delivered carrier date (FK)">
      <Hierarchy allMemberName="All last order delivered carrier dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All last order delivered carrier dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Last order delivered customer date" type="TimeDimension" description="Actual order delivery date to the customer" foreignKey="Last order delivered customer date (FK)">
      <Hierarchy allMemberName="All last order delivered customer dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All last order delivered customer dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Last order estimated delivery date" type="TimeDimension" description="Estimated delivery date that was informed to customer at the purchase moment" foreignKey="Last order estimated delivery date (FK)">
      <Hierarchy allMemberName="All last order estimated delivery dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All last order estimated delivery dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Zip code" description="First 5 digits of zip code" foreignKey="Customer geo_location_fk">
      <Hierarchy allMemberName="All Zip code" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="Zip code" column="zip_code_prefix" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="City" description="City name" foreignKey="Customer geo_location_fk">
      <Hierarchy allMemberName="All City" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="City" column="city" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="State" description="State name" foreignKey="Customer geo_location_fk">
      <Hierarchy allMemberName="All State" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="State" column="state" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Measure name="# Customers" description="The number of customers" column="customer_id" aggregator="count" formatString="Standard" datatype="Integer"/>
    <Measure name="Days since last order" description="Average number of days after the last order fulfillment by this seller" column="days_since_last_order" aggregator="avg" formatString="Standard" datatype="Numeric"/>
    <Measure name="# Orders" description="Number of purchases made by this customer" column="number_of_orders" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="# Order items" description="Number of items purchased by this customer" column="number_of_order_items" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="Revenue (lifetime)" description="The lifetime revenue generated of items purchased by this customer" column="revenue_lifetime" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="Total freight value" description="Total freight value of items purchased by this customer" column="total_freight_value" aggregator="sum" formatString="Standard" datatype="Numeric"/>
  </Cube>
  <Cube name="Product" description="Products sold by Olist" defaultMeasure="# Products">
    <Table schema="af_dim" name="product_fact"/>
    <Dimension name="Category" description="Root category of product">
      <Hierarchy allMemberName="All Category" hasAll="true">
        <Level name="Category" column="category" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Measure name="# Products" description="The number of products" column="product_id" aggregator="count" formatString="Standard" datatype="Integer"/>
    <Measure name="# Orders" description="The number of orders containing this product" column="number_of_orders" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="# Order items" description="The number of items referencing this product" column="number_of_order_items" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="# Customers" description="The number of customers that bought this product" column="number_of_customers" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="Revenue (all time)" description="All time revenue generated by this product" column="revenue_all_time" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="Total freight value" description="Total freight value" column="total_freight_value" aggregator="sum" formatString="Standard" datatype="Numeric"/>
  </Cube>
  <Cube name="Marketing funnel" description="Seller's customer journey based on Olist marketing funnel and e-commerce data" defaultMeasure="# Marketing qualified leads">
    <Table schema="af_dim" name="marketing_funnel_fact"/>
    <Dimension name="Is closed deal" description="If the qualified lead was turned into a closed deal">
      <Hierarchy allMemberName="All Is closed deal" hasAll="true">
        <Level name="Is closed deal" column="is_closed_deal" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="First contact date" type="TimeDimension" description="Date of the first contact solicitation" foreignKey="First contact date (FK)">
      <Hierarchy allMemberName="All first contact dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All first contact dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Landing page ID" description="Landing page id where the lead was acquired" foreignKey="Marketing funnel marketing_qualified_lead_fk">
      <Hierarchy allMemberName="All Landing page ID" hasAll="true" primaryKey="marketing_qualified_lead_id">
        <Table name="marketing_qualified_lead" schema="m_dim"/>
        <Level name="Landing page ID" column="landing_page_id" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Origin" description="Type of media where the lead was acquired" foreignKey="Marketing funnel marketing_qualified_lead_fk">
      <Hierarchy allMemberName="All Origin" hasAll="true" primaryKey="marketing_qualified_lead_id">
        <Table name="marketing_qualified_lead" schema="m_dim"/>
        <Level name="Origin" column="origin" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Won date" type="TimeDimension" description="Date the deal was closed" foreignKey="Won date (FK)">
      <Hierarchy allMemberName="All won dates" hasAll="true" name="By month">
        <Table schema="time" name="day"/>
        <Level name="Year" column="year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Quarter" column="quarter_id" type="Integer" levelType="TimeQuarters" uniqueMembers="true"/>
        <Level name="Month" column="month_id" type="Integer" levelType="TimeMonths" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
      <Hierarchy allMemberName="All won dates" hasAll="true" name="By week">
        <Table schema="time" name="day"/>
        <Level name="Year" column="iso_year_id" type="Integer" levelType="TimeYears" uniqueMembers="true"/>
        <Level name="Week" column="week_id" type="Integer" levelType="TimeWeeks" uniqueMembers="true"/>
        <Level name="Day" column="day_id" type="Integer" levelType="TimeDays" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Business Segment" description="Lead business segment. Informed on contact." foreignKey="Marketing funnel closed_deal_fk">
      <Hierarchy allMemberName="All Business Segment" hasAll="true" primaryKey="closed_deal_id">
        <Table name="closed_deal" schema="m_dim"/>
        <Level name="Business Segment" column="business_segment" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Lead type" description="Lead type. Informed on contact." foreignKey="Marketing funnel closed_deal_fk">
      <Hierarchy allMemberName="All Lead type" hasAll="true" primaryKey="closed_deal_id">
        <Table name="closed_deal" schema="m_dim"/>
        <Level name="Lead type" column="lead_type" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Lead behaviour profile" description="Lead behaviour profile. SDR identify it on contact" foreignKey="Marketing funnel closed_deal_fk">
      <Hierarchy allMemberName="All Lead behaviour profile" hasAll="true" primaryKey="closed_deal_id">
        <Table name="closed_deal" schema="m_dim"/>
        <Level name="Lead behaviour profile" column="lead_behaviour_profile" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Has company" description="Does the lead have a company (formal documentation)?" foreignKey="Marketing funnel closed_deal_fk">
      <Hierarchy allMemberName="All Has company" hasAll="true" primaryKey="closed_deal_id">
        <Table name="closed_deal" schema="m_dim"/>
        <Level name="Has company" column="has_company" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Has GTIN" description="Does the lead have Global Trade Item Number (barcode) for his products?" foreignKey="Marketing funnel closed_deal_fk">
      <Hierarchy allMemberName="All Has GTIN" hasAll="true" primaryKey="closed_deal_id">
        <Table name="closed_deal" schema="m_dim"/>
        <Level name="Has GTIN" column="has_gtin" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Average stock" description="Lead declared average stock. Informed on contact" foreignKey="Marketing funnel closed_deal_fk">
      <Hierarchy allMemberName="All Average stock" hasAll="true" primaryKey="closed_deal_id">
        <Table name="closed_deal" schema="m_dim"/>
        <Level name="Average stock" column="average_stock" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Business type" description="Type of business (reseller/manufacturer etc.)" foreignKey="Marketing funnel closed_deal_fk">
      <Hierarchy allMemberName="All Business type" hasAll="true" primaryKey="closed_deal_id">
        <Table name="closed_deal" schema="m_dim"/>
        <Level name="Business type" column="business_type" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="Zip code" description="First 5 digits of zip code" foreignKey="Seller geo_location_fk">
      <Hierarchy allMemberName="All Zip code" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="Zip code" column="zip_code_prefix" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="City" description="City name" foreignKey="Seller geo_location_fk">
      <Hierarchy allMemberName="All City" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="City" column="city" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Dimension name="State" description="State name" foreignKey="Seller geo_location_fk">
      <Hierarchy allMemberName="All State" hasAll="true" primaryKey="geo_location_id">
        <Table name="geo_location" schema="ec_dim"/>
        <Level name="State" column="state" uniqueMembers="true"/>
      </Hierarchy>
    </Dimension>
    <Measure name="# Marketing qualified leads" description="The number of MQLs" column="marketing_qualified_lead_fk" aggregator="count" formatString="Standard" datatype="Integer"/>
    <Measure name="# Closed deals" description="The number of closed deals" column="closed_deal_fk" aggregator="count" formatString="Standard" datatype="Integer"/>
    <Measure name="# Orders" description="Number of orders with at-least one item fulfilled by this seller" column="number_of_orders" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="# Order items" description="Number of items fulfilled by this seller" column="number_of_order_items" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="# Deliveries" description="Number of orders (with at-least one item fulfilled by this seller) that were already delivered to the customer" column="number_of_deliveries" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="# Customers" description="Number of customers with items fulfilled by this seller" column="number_of_customers" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="Revenue (lifetime)" description="The lifetime revenue generated of items fulfilled by this seller" column="revenue_lifetime" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="Total freight value" description="Total freight value of items fulfilled by this seller" column="total_freight_value" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="Declared product catalog size" description="Lead declared catalog size. Informed on contact" column="declared_product_catalog_size" aggregator="sum" formatString="Standard" datatype="Numeric"/>
    <Measure name="Declared monthly revenue" description="Lead declared estimated monthly revenue. Informed on contact" column="declared_monthly_revenue" aggregator="sum" formatString="Standard" datatype="Numeric"/>
  </Cube>
</Schema>
